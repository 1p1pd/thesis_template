\ProvidesPackage{style/ShanghaiTech}

\usepackage{graphicx}
\usepackage{polyglossia}
\setdefaultlanguage{english}
\usepackage{csquotes}
\usepackage{lmodern}
\usepackage{bold-extra}
\usepackage[nottoc]{tocbibind}
\usepackage{array}
\usepackage{natbib}
\usepackage{booktabs}
\usepackage[pageref]{backref}
\usepackage{float}
\usepackage{textpos}
\usepackage{zhnumber}
\usepackage{makeidx}
% change the font below if your font has different name
\usepackage[PunctStyle=kaiming]{xeCJK}
    \setCJKmainfont[
        BoldFont={FZXiaoBiaoSong-B05},
        ItalicFont={FZFangSong-Z02_GB18030}
    ]{FZNewShuSong_GB18030-Z10}
    \setCJKsansfont[
        BoldFont={FZLanTingHei-B_GB18030},
        ItalicFont={FZNewKai_GB18030-Z03}
    ]{FZHei_GB18030-B01}
    \setCJKmonofont[
        BoldFont={FZZhongDengXian_GB18030},
        ItalicFont={FZFangSong-Z02_GB18030}
    ]{FZXiDengXian_GB18030}

\setlength{\parskip}{0.5em}

\linespread{1.2}

\usepackage{fancyhdr}

\fancypagestyle{empty}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
}

\fancypagestyle{titlepage}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
}

\fancypagestyle{prematterEn}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0.1pt}
  \fancyhead[L]{\includegraphics[height=9pt]{style/img/textonly_en.pdf}\vspace{-1.2ex}}
  \fancyhead[R]{\footnotesize \@title}
  \fancyfoot[C]{\thepage}
}

\fancypagestyle{prematterZh}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0.1pt}
  \fancyhead[L]{\includegraphics[height=9pt]{style/img/textonly_zh.pdf}\vspace{-1ex}}
  \fancyhead[R]{\footnotesize \@titleZh}
  \fancyfoot[C]{\thepage}
}

\fancypagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0.1pt}
  \fancyhead[L]{\includegraphics[height=9pt]{style/img/textonly_en.pdf}\vspace{-1.2ex}}
  \fancyhead[R]{\footnotesize \@title}
  \fancyfoot[C]{\thepage}
}

\pagestyle{fancy}
\fancyhf{}
\lhead{\includegraphics[height=9pt]{style/img/textonly_en.pdf}\vspace{-1.2ex}}
\rhead{\footnotesize \@title}
\cfoot{\thepage}

% clear double page
\makeatletter
\def\cleardoublepage{
  \clearpage
  \if@twoside
    \ifodd
      \c@page
    \else%
      \hbox{}%
      \thispagestyle{empty}%
      \newpage%
      \if@twocolumn
        \hbox{}
        \newpage
      \fi
    \fi
  \fi}
\makeatother
